/*! factor-calculator 2020-05-24 */

var Factor;function getMatches(t,n){if(t=t||3e3,(n=n||[]).length<1)return null;for(var i=JSON.parse(JSON.stringify(n)),u=[];i.length;){var a=i.shift(),r=a.unit,e=a.multiples,f=0;for(l=e.length;f<l;f++){var o=e[f],s=o-t;String(r),String(f);Math.abs(s)<Math.floor(.1*t)&&u.push({unit:r,quantity:f,value:o,diff:s})}}u.sort(sortByDiff);var y="Unit | Qty | Value | Difference\n";for(f=0,j=u.length;f<j;f++)u[f].unit<1e3&&(y+=" "),y+=u[f].unit,y+=" |  ",u[f].quantity<10&&(y+=" "),y+=u[f].quantity,y+=" |  ",u[f].value<1e3&&(y+=" "),y+=u[f].value,y+=" | ",0<=u[f].diff&&(y+="+"),y+=u[f].diff,f+1<j&&(y+="\n");console.log(y)}function printUnits(t){if((t=t||[]).length<1)return!1;for(var n="Unit | Qty | Multiples\n",i=0,u=t.length;i<u;i++){n+=t[i].unit,t[i].unit<1e3&&(n+=" "),n+=" | ",t[i].quantity<10&&(n+=" "),n+=t[i].quantity,n+="  | ";for(var a=t[i].multiples,r=1,e=a.length;r<e;r++)n+=a[r],r+1<a.length&&(n+=", ");i+1<t.length&&(n+="\n")}console.log(n)}function sortByDiff(t,n){return Math.abs(t.diff)-Math.abs(n.diff)}function sortByQuantity(t,n){return t.quantity-n.quantity}function main(t){"number"!=typeof t&&(t=3e3);var n=[{unit:533,quantity:4},{unit:535,quantity:3},{unit:536,quantity:1},{unit:540,quantity:6},{unit:554,quantity:1},{unit:565,quantity:2},{unit:576,quantity:2},{unit:1097,quantity:4},{unit:1100,quantity:4},{unit:1155,quantity:2}];n.forEach(function(t,n,i){t.multiples=[];for(var u=0;u<=t.quantity;u++)t.multiples.push(u*t.unit)}),console.log("Target:",t),printUnits(JSON.parse(JSON.stringify(n))),getMatches(t,JSON.parse(JSON.stringify(n)))}Factor=Factor||{};
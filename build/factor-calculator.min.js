/*! factor-calculator 2020-05-30 */
function sortByDiff(t,n){return Math.abs(t.diff)-Math.abs(n.diff)}function sortByQuantity(t,n){return t.quantity-n.quantity}function getMatches(t,n){var i;if(t=t||3e3,(n=n||[]).length<1)return null;for(var u=JSON.parse(JSON.stringify(n)),a=[];u.length;)for(var e=u.shift(),r=e.unit,f=e.multiples,l=0,o=f.length;l<o;l++){var s=f[l],y=s-t;String(r),String(l);Math.abs(y)<Math.floor(.1*t)&&a.push({unit:r,quantity:l,value:s,diff:y})}a.sort(sortByDiff);var g="Unit | Qty | Value | Difference\n";for(l=0,i=a.length;l<i;l++)a[l].unit<1e3&&(g+=" "),g+=a[l].unit,g+=" |  ",a[l].quantity<10&&(g+=" "),g+=a[l].quantity,g+=" |  ",a[l].value<1e3&&(g+=" "),g+=a[l].value,g+=" | ",0<=a[l].diff&&(g+="+"),g+=a[l].diff,l+1<i&&(g+="\n");console.log(g)}function printUnits(t){if((t=t||[]).length<1)return!1;for(var n="Unit | Qty | Multiples\n",i=0,u=t.length;i<u;i++){n+=t[i].unit,t[i].unit<1e3&&(n+=" "),n+=" | ",t[i].quantity<10&&(n+=" "),n+=t[i].quantity,n+="  | ";for(var a=t[i].multiples,e=1,r=a.length;e<r;e++)n+=a[e],e+1<a.length&&(n+=", ");i+1<t.length&&(n+="\n")}console.log(n)}function main(t){"number"!=typeof t&&(t=3e3);var n=[{unit:533,quantity:4},{unit:535,quantity:3},{unit:536,quantity:1},{unit:540,quantity:6},{unit:554,quantity:1},{unit:565,quantity:2},{unit:576,quantity:2},{unit:1097,quantity:4},{unit:1100,quantity:4},{unit:1155,quantity:2}];n.forEach(function(t,n,i){t.multiples=[];for(var u=0;u<=t.quantity;u++)t.multiples.push(u*t.unit)}),console.log("Target:",t),printUnits(JSON.parse(JSON.stringify(n))),getMatches(t,JSON.parse(JSON.stringify(n)))}